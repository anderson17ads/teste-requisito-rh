{% extends 'Layout/default.twig' %}

{% block container %}
	<h1 class="title">Editar Incidente</h1>

	<a href="{{ base_url() }}/incidentes/listar" class="btn btn-secondary float-right">Listar</a>

	<a href="{{ base_url() }}/incidentes/adicionar" class="btn btn-secondary float-right">Cadastrar</a>

	<form 
		method="POST" 
		action="{{ base_url() }}/incidentes/editar/{{ incidente.id }}" 
		data-toggle="validator" role="form">
		
		<input type="hidden" name="_METHOD" value="PUT"/>
		
		<div class="form-group row">
			<label for="titulo" class="col-sm-2 col-form-label">Nome</label>
			<div class="col-sm-10">
				<input type="text" class="form-control" value="{{ incidente.titulo }}" name="titulo" id="titulo" placeholder="Nome" required>
				<div class="help-block with-errors"></div>
			</div>
		</div> 

		<div class="form-group row">
			<label for="tipo_id" class="col-sm-2 col-form-label">Tipo</label>
			<div class="col-sm-10">
				<select name="tipo_id" id="tipo_id" class="form-control">
				<option>Escolha um tipo</option>
				{% for tipo in tipos %}
					<option value="{{ tipo.id }}" {{ incidente.tipo_id == tipo.id ? 'selected' : ''}}>{{ tipo.titulo }}</option>
				{% endfor %}
				</select>
			</div>
			<div class="help-block with-errors"></div>
	    </div>

		<div class="form-group row">
			<label for="criticidade_id" class="col-sm-2 col-form-label">Criticidade</label>
			<div class="col-sm-10">
				<select name="criticidade_id" id="criticidade_id" class="form-control">
				<option>Escolha uma criticidade</option>
				{% for criticidade in criticidades %}
					<option value="{{ criticidade.id }}" {{ incidente.criticidade_id == criticidade.id ? 'selected' : ''}}>{{ criticidade.titulo }}</option>
				{% endfor %}
				</select>
			</div>
			<div class="help-block with-errors"></div>
	    </div>

	    <div class="form-group row">
			<label for="status" class="col-sm-2 col-form-label">Status</label>
			<div class="col-sm-10">
				<select name="status" id="status" class="form-control">
				<option selected>Escolha um status</option>
				<option value="1" {{ incidente.status == 1 ? 'selected' : ''}}>Ativo</option>
				<option value="0" {{ incidente.status == 0 ? 'selected' : ''}}>Inativo</option>
				</select>
			</div>
			<div class="help-block with-errors"></div>
	    </div>

	    <div class="form-group row">
			<label for="descricao" class="col-sm-2 col-form-label">Descrição</label>
			<div class="col-sm-10">
				<textarea class="form-control" name="descricao" id="descricao" placeholder="" required>{{ incidente.descricao }}</textarea>
				<div class="help-block with-errors"></div>
			</div>
		</div> 
	  
		<div class="form-group row">
			<button type="submit" class="btn btn-primary">Editar</button>
		</div>
	</form>

{% endblock %}